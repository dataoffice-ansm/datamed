query SpecialityIdByCode($cisCode: String!) {
    getSpecialityIdByCode(cisCode: $cisCode)
}

query Speciality($cisId: Int!) {
    getSpeciality(cisId: $cisId) {
        id
        name
        code
        atc {
            id
            name
            code
        }
        commercialisationState
        commercialisationType
        repartitionPerSex {
            male
            female
        }
        repartitionPerAge {
            id
            range
            value
        }
        publications {
            id
            name
            link
            type {
                id
                name
            }
        }
        description
        icon {
            id
            name
        }
        laboratory {
            id
            name
        }
        substances {
            id
            code
            name
            dosage
            pharmaForm
        }
        exposition {
            id
            consumption
            expositionLevel
        }
        medicalErrors {
            populationRepartition {
                id
                value
                range
            }
            sideEffectsOriginRepartition {
                with
                without
            }
            natureRepartition {
                id
                value
                range
            }
        }
        rupturesHistory {
            ruptures {
                id
                num
                name
                active
                date
                cause {
                    id
                    name
                }
                classification {
                    id
                    name
                }
            }
            meta {
                count
            }
        }
    }
}

query Specialities {
    getSpecialities {
        meta {
            count
        }
        specialities {
            id
            code
            name
        }
    }
}

query Substance($subCode: String!) {
    getSubstance(subCode: $subCode) {
        id
        code
        name
        pharmaForm
        dosage
        retrieveSpecialities {
            meta {
                count
            }
            specialities {
                id
                code
                name
                description
            }
        }
        repartitionPerSex {
            male
            female
        }
        repartitionPerAge {
            id
            range
            value
        }
        repartitionPerNotifier {
            id
            job
            value
        }
        repartitionPerPathology {
            id
            name
            nbCases
            nbPercent
        }

        totalExposition {
            total
            minYear
            maxYear
        }
    }
}

query Substances {
    getSubstances {
        meta {
            count
        }
        substances {
            id
            name
            code
        }

    }
}
